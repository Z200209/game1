# Redis哨兵配置文件
# 哨兵端口
port 26379

# 绑定地址
bind 127.0.0.1

# 后台运行
daemonize yes

# PID文件
pidfile /var/run/redis-sentinel.pid

# 日志文件
logfile "sentinel.log"

# 工作目录
dir ./

# 监控主节点配置
# sentinel monitor <master-name> <ip> <port> <quorum>
# master-name: 主节点名称
# ip: 主节点IP地址
# port: 主节点端口
# quorum: 判断主节点下线所需的哨兵数量
sentinel monitor mymaster 127.0.0.1 6379 1

# 主节点密码（如果设置了密码）
# sentinel auth-pass mymaster yourpassword

# 主节点下线时间阈值（毫秒）
# 如果主节点在指定时间内没有响应，则认为主节点主观下线
sentinel down-after-milliseconds mymaster 30000

# 故障转移超时时间（毫秒）
# 故障转移操作的超时时间
sentinel failover-timeout mymaster 180000

# 并行同步从节点数量
# 在故障转移期间，同时向新主节点同步的从节点数量
sentinel parallel-syncs mymaster 1

# 哨兵通知脚本（可选）
# 当发生故障转移时执行的脚本
# sentinel notification-script mymaster /var/redis/notify.sh

# 客户端重新配置脚本（可选）
# 当主节点地址发生变化时执行的脚本
# sentinel client-reconfig-script mymaster /var/redis/reconfig.sh

# 哨兵日志级别
loglevel notice

# 哨兵拒绝连接时间
# 当哨兵忙于故障转移时，拒绝新连接的时间
sentinel deny-scripts-reconfig yes

# 哨兵配置传播
# 是否将配置更改传播给其他哨兵
sentinel resolve-hostnames no
sentinel announce-hostnames no